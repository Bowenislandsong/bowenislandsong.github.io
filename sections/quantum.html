<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Quantum Computing for Dummies</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.0/dist/tailwind.min.css">
</head>
<body class="bg-gradient-to-br from-blue-100 to-teal-100 min-h-screen">
		<div class="flex flex-col md:flex-row max-w-7xl mx-auto py-10 px-2 gap-6">
			<!-- Sidebar -->
			<aside class="md:w-72 w-full bg-white/80 rounded-2xl shadow-lg p-6 mb-6 md:mb-0">
				<h1 class="text-3xl font-extrabold text-blue-800 mb-4">Quantum Computing for Dummies</h1>
				<p class="text-base text-slate-700 mb-4">A super-friendly, visual introduction to quantum computing. No math, no jargonâ€”just fun and intuition!</p>
				<nav id="lesson-list" class="space-y-2">
					<!-- Lessons will be loaded here -->
				</nav>
				<a href="lessons/introduction-to-classical-and-quantum-computing.pdf" target="_blank" class="block mb-4 px-3 py-2 bg-blue-100 text-blue-700 rounded font-semibold hover:bg-blue-200 text-center">View/Download Full PDF</a>
			</aside>
			<!-- Main Reading Pane -->
			<main class="flex-1 bg-white rounded-2xl shadow-2xl p-8 min-h-[60vh] prose prose-lg max-w-none w-full" id="lesson-content">
				<div class="text-slate-400 text-center py-20 text-xl">Select a chapter from the sidebar to begin reading.</div>
</style>
			</main>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
		<script>
			// Load lessons from index.json
			fetch('lessons/index.json')
				.then(res => res.json())
				.then(list => {
					const nav = document.getElementById('lesson-list');
					nav.innerHTML = '';
					list.forEach((lesson, idx) => {
						const btn = document.createElement('button');
						btn.className = 'w-full text-left px-4 py-2 rounded-lg font-semibold text-blue-700 hover:bg-blue-100 focus:bg-blue-200 transition';
						btn.textContent = lesson.title;
						btn.onclick = () => showLesson(lesson.path, btn);
						btn.id = 'lesson-btn-' + idx;
						nav.appendChild(btn);
					});
				});

				function showLesson(path, btn) {
						// Determine PDF page for this lesson (assume 5 pages per chapter, starting at page 1)
						const chapterMatch = path.match(/chapter(\d+)\.md$/);
						let page = 1;
						if (chapterMatch) {
							page = (parseInt(chapterMatch[1]) - 1) * 5 + 1;
						}
							fetch(path).then(res => res.text()).then(md => {
								// Update URL hash for bookmarking
								if (chapterMatch) {
									window.location.hash = `chapter${chapterMatch[1]}`;
								}
									document.getElementById('lesson-content').innerHTML = `
										<div class="space-y-6">
											<h2 class="text-2xl font-extrabold mb-4 text-blue-700 border-b pb-2">Beginner Lesson</h2>
											<div class="prose prose-xl max-w-none leading-relaxed">
												${marked.parse(md)}
											</div>
										</div>
									`;
								// Highlight selected button
								document.querySelectorAll('#lesson-list button').forEach(b => b.classList.remove('bg-blue-200'));
								if (btn) btn.classList.add('bg-blue-200');
								// Scroll to top of reading pane
								document.getElementById('lesson-content').scrollTo({top:0, behavior:'smooth'});
							});
		// Fullscreen PDF iframe
		function fullscreenPDF() {
			const iframe = document.getElementById('pdf-iframe');
			if (iframe.requestFullscreen) {
				iframe.requestFullscreen();
			} else if (iframe.webkitRequestFullscreen) {
				iframe.webkitRequestFullscreen();
			} else if (iframe.mozRequestFullScreen) {
				iframe.mozRequestFullScreen();
			} else if (iframe.msRequestFullscreen) {
				iframe.msRequestFullscreen();
			}
		}

		// On page load, check hash and auto-select chapter
		window.addEventListener('DOMContentLoaded', () => {
			const hash = window.location.hash;
			if (hash && hash.startsWith('#chapter')) {
				const idx = parseInt(hash.replace('#chapter','')) - 1;
				const btn = document.getElementById('lesson-btn-' + idx);
				if (btn) btn.click();
			}
		});
				}
		</script>
</body>
</html>
